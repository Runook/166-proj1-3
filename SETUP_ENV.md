# ðŸ”§ çŽ¯å¢ƒé…ç½®æŒ‡å—

## âš ï¸ é‡è¦ï¼šåˆ›å»º .env æ–‡ä»¶

ç”±äºŽ `.env` æ–‡ä»¶è¢« gitignore å¿½ç•¥ï¼Œä½ éœ€è¦æ‰‹åŠ¨åˆ›å»ºå®ƒã€‚

### æ–¹æ³•1ï¼šä½¿ç”¨å‘½ä»¤è¡Œåˆ›å»º

```bash
cd /Users/ew-josh/Downloads/CS4111

cat > .env << 'EOF'
DB_USER=jc6292
DB_HOST=34.139.8.30
DB_NAME=proj1part2
DB_PASSWORD=854037
DB_PORT=5432
PORT=3001
EOF
```

### æ–¹æ³•2ï¼šæ‰‹åŠ¨åˆ›å»º

1. åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºæ–‡ä»¶ï¼š`.env`
2. å¤åˆ¶ä»¥ä¸‹å†…å®¹ï¼š

```env
DB_USER=jc6292
DB_HOST=34.139.8.30
DB_NAME=proj1part2
DB_PASSWORD=854037
DB_PORT=5432
PORT=3001
```

---

## ðŸ§ª æµ‹è¯•æ•°æ®åº“è¿žæŽ¥

åˆ›å»º `.env` æ–‡ä»¶åŽï¼Œè¿è¡Œæµ‹è¯•è„šæœ¬ï¼š

```bash
node test-db-connection.js
```

è¿™ä¼šæµ‹è¯•ï¼š
- âœ… æ•°æ®åº“è¿žæŽ¥
- âœ… Schema å’Œè¡¨æ˜¯å¦å­˜åœ¨
- âœ… æ•°æ®æ˜¯å¦å¯è®¿é—®
- âœ… API æŸ¥è¯¢æ˜¯å¦æ­£å¸¸

---

## ðŸ” å¸¸è§é—®é¢˜æŽ’æŸ¥

### é—®é¢˜1ï¼šæ— æ³•è¿žæŽ¥åˆ°æ•°æ®åº“

**æ£€æŸ¥ï¼š**
```bash
# æµ‹è¯•æ•°æ®åº“è¿žæŽ¥
PGPASSWORD=854037 psql -U jc6292 -h 34.139.8.30 -d proj1part2 -c "SELECT NOW();"
```

**å¦‚æžœè¿žæŽ¥å¤±è´¥ï¼š**
- æ£€æŸ¥ç½‘ç»œè¿žæŽ¥
- ç¡®è®¤æ•°æ®åº“æœåŠ¡å™¨åœ°å€å’Œç«¯å£
- æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

### é—®é¢˜2ï¼š.env æ–‡ä»¶ä¸å­˜åœ¨

**ç—‡çŠ¶ï¼š** åŽç«¯å¯åŠ¨æ—¶æ˜¾ç¤ºæ•°æ®åº“è¿žæŽ¥é”™è¯¯

**è§£å†³ï¼š** æŒ‰ç…§ä¸Šé¢çš„æ–¹æ³•åˆ›å»º `.env` æ–‡ä»¶

### é—®é¢˜3ï¼šè¡¨ä¸å­˜åœ¨

**æ£€æŸ¥ï¼š**
```bash
PGPASSWORD=854037 psql -U jc6292 -h 34.139.8.30 -d proj1part2 -c "\dt jc6292.*"
```

**åº”è¯¥çœ‹åˆ°9ä¸ªè¡¨ï¼š**
- student
- club
- location
- industry
- graduated_in
- lives_in
- works_in
- member_of
- year_dim

### é—®é¢˜4ï¼šç«¯å£è¢«å ç”¨

**æ£€æŸ¥ï¼š**
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
lsof -ti:3001
lsof -ti:3000
```

**æ¸…ç†ç«¯å£ï¼š**
```bash
./clear-ports.sh
```

---

## âœ… éªŒè¯æ­¥éª¤

1. **åˆ›å»º .env æ–‡ä»¶** âœ“
2. **æµ‹è¯•æ•°æ®åº“è¿žæŽ¥** âœ“
   ```bash
   node test-db-connection.js
   ```
3. **å¯åŠ¨åº”ç”¨** âœ“
   ```bash
   ./start.sh
   ```
4. **è®¿é—®å‰ç«¯** âœ“
   - http://localhost:3000
5. **æ£€æŸ¥åŽç«¯æ—¥å¿—** âœ“
   - åº”è¯¥çœ‹åˆ° "Database connected successfully"

---

## ðŸ“ å®Œæ•´å¯åŠ¨æµç¨‹

```bash
# 1. è¿›å…¥é¡¹ç›®ç›®å½•
cd /Users/ew-josh/Downloads/CS4111

# 2. åˆ›å»º .env æ–‡ä»¶ï¼ˆå¦‚æžœè¿˜æ²¡æœ‰ï¼‰
cat > .env << 'EOF'
DB_USER=jc6292
DB_HOST=34.139.8.30
DB_NAME=proj1part2
DB_PASSWORD=854037
DB_PORT=5432
PORT=3001
EOF

# 3. æµ‹è¯•æ•°æ®åº“è¿žæŽ¥
node test-db-connection.js

# 4. å¯åŠ¨åº”ç”¨
./start.sh
```

---

## ðŸŽ¯ å¦‚æžœæµ‹è¯•å¤±è´¥

### é”™è¯¯ï¼šè¿žæŽ¥è¢«æ‹’ç»

```
Error: connect ECONNREFUSED
```

**å¯èƒ½åŽŸå› ï¼š**
- æ•°æ®åº“æœåŠ¡å™¨æœªè¿è¡Œ
- é˜²ç«å¢™é˜»æ­¢è¿žæŽ¥
- ä¸»æœºåœ°å€æˆ–ç«¯å£é”™è¯¯

### é”™è¯¯ï¼šè®¤è¯å¤±è´¥

```
Error: password authentication failed
```

**å¯èƒ½åŽŸå› ï¼š**
- å¯†ç é”™è¯¯
- ç”¨æˆ·åé”™è¯¯
- ç”¨æˆ·æƒé™ä¸è¶³

### é”™è¯¯ï¼šæ•°æ®åº“ä¸å­˜åœ¨

```
Error: database "proj1part2" does not exist
```

**å¯èƒ½åŽŸå› ï¼š**
- æ•°æ®åº“åç§°é”™è¯¯
- éœ€è¦åˆ›å»ºæ•°æ®åº“

---

## ðŸ“ž éœ€è¦å¸®åŠ©ï¼Ÿ

è¿è¡Œæµ‹è¯•è„šæœ¬æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯ï¼š

```bash
node test-db-connection.js
```

è„šæœ¬ä¼šæ˜¾ç¤ºå…·ä½“çš„é”™è¯¯å’ŒæŽ’æŸ¥å»ºè®®ã€‚

